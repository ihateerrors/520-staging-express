<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8" />
<!-- 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-970887-21"></script>
  <script>window.dataLayer = window.dataLayer || []; function gtag() {dataLayer.push(arguments)}; gtag("js", new Date()); gtag("set", "developer_id.dMDhkMT", true); gtag("config", "UA-970887-21", {"groups": "default", "anonymize_ip": true, "page_placeholder": "PLACEHOLDER_page_path"});</script> -->
  <link rel="canonical" href="#" />
  <meta name="description"
    content="View current major projects, which are investments we make with local partners to address safety, congestion, mobility for all users and/or fish passage responsibilities." />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" href="favicon.ico" />
  <link rel="icon" href="/img/dot.ico" type="image/vnd.microsoft.icon" />
  <!-- <script src="/sites/default/files/google_tag/gtm_kjkscvk/google_tag.script.js?rtoq0t" defer></script> -->

  <title>SR 520 Construction | WSDOT</title>
  <!-- <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet"
    type="text/css" /> -->

  <!-- <link rel="stylesheet" media="all" href="/css/styles1.css" /> -->
  <link rel="stylesheet" media="all" href="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css"
    integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
  <!-- <link rel="stylesheet" media="all" href="/css/styles2.css" /> -->
   <!-- <link rel="stylesheet" media="all" href="/css/styles3.css" /> -->
   <!-- <link rel="stylesheet" media="all" href="/css/stylesheet-override.css" /> -->
  <link rel="stylesheet" media="all" href="/css/stylesheet-override2.css" />


  <link rel="stylesheet" media="all" href="https://fonts.googleapis.com/css2?family=Lato:wght@100;300;400;700;900&amp;display=swap" />
  <link rel="stylesheet" media="all" href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&amp;display=swap" />

  <script src="https://kit.fontawesome.com/da8d22a218.js" crossorigin="anonymous"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
  <!-- leaftlet css js -->
  <!-- <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"
    integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI=" crossorigin="" />
  <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"
    integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM=" crossorigin=""></script> -->
  <!-- end leaflet scripts -->
<!-- 
  <link rel="stylesheet" href="/css/real-time-map.css">
  <script src="/Scripts/moment.js" type="text/javascript"></script>
  <script src="/Scripts/ActivityMap.js?v=1.1" type="text/javascript"></script>

  <script src="/Scripts/script5.js" type="text/javascript"></script>
  <script src="/Scripts/script6.js" type="text/javascript"></script>

  <script src="/Scripts/map.chunk.js"> </script>
  <script src="/Scripts/real-time-map.js" > </script> -->

</head>

  <body>

    <%- include('partials/header') %>

    <div id="alert-banner-top" class="container-fluid" style="width: 100vw; padding-top: 1.5em; z-index: -1;">
      <div class="row">
          <div class="orange-banner" style="background-color: #ffb500; width: 100vw; min-height: max-content; justify-content: center;">    
              <div class="mt-4 mb-1" style="margin-left: 8%;"> 
                <% if (project && project.bannerContent === 'yes') { %>
                  <span style="font-size: 1.4em; font-weight: 700;"><%= project.activityName %> </span>
                  <p><a href="/projects/<%= project._id %>">View Details</a></p>
              <% } %>
              
              </div> 
          </div>
      </div>
  </div>
<p></p>
    <main>



<!-- ###  Main container  ### -->
     <div class="container4" style="padding-left: 5%; padding-right: 3%; margin-top: 20px; margin-bottom: 20px;"> 
        <!-- #########   start maps  ######## -->

       <div class="container-fluid">
          <div class="row"> 
            <div class="blockhead" style="display: block; margin-left: 3%;"> 
          <h1 class="wdot-dkgreen">SR 520 Construction Corner</h1>
          <p><strong>The go-to source for information on SR 520 construction and closures.</strong></p>
   
      </div>
          </div>
        </div>

        <div id="construction-map">
          <div class="row">     
            <div class="col-lg-9 col-md-12 col-sm-12">   
                  <div class="togglerow" style="justify-content: space-between;"> 
                  <button id="map1Button" class="parallelogram-link map-tab" >SR 520 Construction Map</button>
                  <button id="map2Button" class="parallelogram-link map-tab" >WSDOT Travel Map</button>
                </div>
                  <!-- Map Column -->
              
                  <!-- <div class="mapcontainer"> -->
                  <div id="map1" class="d-block mapcontainer">

                    <%- include('partials/_mapPartial.ejs') %>               
       
                      </div>

              <!-- iframe Map -->
        
            <div id="map2" class="d-none"><p></p> 
              <iframe src="https://wsdot.com/Travel/Real-time/Map/?featuretype=camera&featureid=9648" width="100%"  height="750px"></iframe>                
            
            </div>            
        
           <!-- Map Toggle Button -->       
           <p style="font-size: 18px; font-weight: 400;"><i>Note: This tool is presented for planning purposes only. Construction work is dependent on weather and other factors, and activities are subject to change.</i></p><br>         
              </div>   
              <!-- Right Sidebar -->
              <div class="col-lg-3 vanishing pt-5 mt-5">
                <!-- Card 1 -->
                <div style="margin-left: 25px;">
        
                  <p class="text-center wdot-dkgreen"><strong>Current and upcoming closures</strong></p>
                             <% closures.forEach(closure => { %>
                    <li class="closure-item">
                        <span class="icon-box"><img src="https://sr520construction.blob.core.windows.net/520-uploads/whitedash-onred.png" class="iconimg" style="width: 25px; height: 25px; border-radius: 50%;"></span>
                        <a href="/projects/<%= closure._id %>" class="closure-link"><%= closure.activityName %></a>
                    </li>
                    <% }); %>
    
                    <br>
                  </div>                              
                </div>
             <!-- END Right Sidebar col -->
             </div>
          </div>
        </div>   
      </div>
    </div>
   </div>

 </div>
<!-- NEW container for cards start  -->
<%- include('partials/horizontal-cards2') %>
      </main>
  

 <!-- ## Start footer ###  -->
 <%- include('partials/footer') %>

<!-- ### End footer ### -->

<!-- ## sidebar scripts  -->
<script>

document.addEventListener('DOMContentLoaded', (event) => {
    
  fetch('/latest-closures')
    .then(response => response.json())
    .then(closures => {
        const sidebarList = document.getElementById('sidebarList');

        closures.forEach(closure => {
            const listItem = document.createElement('li');
            listItem.className = 'closure-item';
            
            const icon = document.createElement('span');
            icon.className = 'icon-box';
            icon.innerText = 'ðŸš§'; // Replace with your icon.
            listItem.appendChild(icon);
            
            const link = document.createElement('a');
            link.href = `/projects/${closure._id}`;
            link.innerText = closure.activityName;
            link.className = 'closure-link';
            listItem.appendChild(link);
            
            sidebarList.appendChild(listItem);
        });
    })
    .catch(error => console.error('Error fetching latest closures:', error));
});




</script>

<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js" integrity="sha384-+sLIOodYLS7CIrQpBjl+C7nPvqq+FbNUBDunl/OZv93DB7Ln/533i8e/mZXLi/P+" crossorigin="anonymous"></script>

  <!-- <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js" integrity="sha384-+sLIOodYLS7CIrQpBjl+C7nPvqq+FbNUBDunl/OZv93DB7Ln/533i8e/mZXLi/P+" crossorigin="anonymous"></script> -->


    <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
   <!-- ### Map toggle scripts -->
   <script> 
    const map1Button = document.getElementById('map1Button');
    const map2Button = document.getElementById('map2Button');
    const map1 = document.getElementById('map1');
    const map2 = document.getElementById('map2');
    
    map1Button.addEventListener('click', function() {
        map1.classList.remove('d-none');
        map1.classList.add('d-block');
        map2.classList.remove('d-block');
        map2.classList.add('d-none');
    });
    
    map2Button.addEventListener('click', function() {
        map1.classList.remove('d-block');
        map1.classList.add('d-none');
        map2.classList.remove('d-none');
        map2.classList.add('d-block');
      });
    



      // document.getElementById("map1Button").addEventListener("click", function() {

      //     document.getElementById("map1").style.display = "block";
      //     document.getElementById("map2").style.display = "none";
      // });

      // document.getElementById("map2Button").addEventListener("click", function() {
      //     document.getElementById("map2").style.display = "block";
      //     document.getElementById("map1").style.display = "none";
      // });

        </script>

</body>

</html>